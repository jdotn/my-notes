shell command:

## core
### whereis [command]
コマンドのパスやソース、マニュアルのパスを表示するコマンド。
whichがコマンドのパスのみを表示するのに対して高性能である。

### env
環境変数を設定してコマンドを実行するときに使うコマンド。
環境変数を設定せずにPATHの通っている箇所からコマンドが検索され実行される。
env [option] [環境変数名]=[値] [command]
env env01=value02 command03
なら環境変数env01にvalue02が設定された状態でcommand03が実行される。
スクリプトでシバンが#!/usr/bin/env nodeとなっている場合は、
PATHからnodeを探し、スクリプトがnodeで実行されることになる。

### printenv
環境変数の内容を表示するコマンド。
Linux環境で使用する変数には、シェルからのみ参照できるシェル変数と他のコマンドからも
参照できる環境変数がある。printenvは環境変数を表示するためのコマンド。
printenv 変数名で指定した変数名と内容をついにして表示することもできる。
変数の参照はechoでも可能。この場合echo $変数名と変数名の前に$が必要。
printenvは外部コマンド(/usr/bin/pritenv)でありシェル変数にはアクセスできない。
echoはビルトインコマンドなのでシェル変数と環境変数のどちらにもアクセスできる。
シェル変数はシェル変数を作成したプロセスだけが参照可能。
一覧で表示するならset.

### source
ファイルに書かれたコマンドを現在のシェルで実行するコマンド。
主にシェルの設定ファイルを反映させるときに使用する。

### ps
OS内部で現在実行されているプロセス一覧を表示するコマンド。
プロセスのID(PID)やCPU使用時間、コマンド名、端末番号、ユーザー名など
を確認することができる。

### `command`
バッククォートはコマンドの置換を表す。
grep `whoami` /etc/passwd
なら現在のユーザー名を取得し、その名前を/etc/passwdファイル内で検索する。
バッククォートは古い書き方なので、現在では$(...)が用いられる。
grep $(whoami) /etc/passwd

### chsh
ユーザーのログインシェルを変更するコマンド。
もう少し厳密に言うとユーザーのログインshell属性を変更する。
shell属性とは、システムへのユーザーのログイン後に実行される初期プログラム
のことである。この属性は/etc/passwdファイル内に指定されている。
デフォルトではchshコマンドはコマンドを入力したユーザーのログインシェルを
変更するようになっている。

### w
サーバーにログインしているユーザーを表示しかつ実行しているプロセスを確認する
ことができる。サーバーの運用で高負荷のアラートを検知した際に誰がログインして
負荷のかかる処理をしているか確認できる。以下はパラメータの説明。
IDLE: ログイン後何もしていない時間
JCPU: 該当端末に接続されている全てのプロセスによって使用されている時間
PCPU: 現在実行しているプロセスによってしようされた時間
WHAT: 実行しているコマンド名
uptime: システムの稼働時間
roadaverage: 1CPUに対して平均的にどれだけプロセスが実行待ちになっているかの指標

### last
システムのログイン履歴を一覧表示するコマンド。
/var/log/wtmpファイルを参照し、新しいログインから順に表示する。
オプションもあり,last -10なら最近のログイン履歴10件を表示する。

### tty
ユーザーの端末の絶対パス名を標準出力に書き出す。(teletypewriter)
接続端末のデバイスファイル名を取得するときに使用する。
難しく言うと標準出力となっている端末デバイスの名前を表示するUnix系コマンド。

UNIX系OSはログインすると'デバイスファイル名'という一時的な名前をもらう。
端末A上でttyと打ったときに/dev/pts/0と出た場合、
/dev/pts/0が端末Aのデバイスファイル名である。
ここで/dev/pts/1と出力される端末Bがあるとき、
端末A上でecho "hoge" > /dev/pts/1とコマンドを打つと、
端末B上である/dev/pts/1の端末画面に
hogeが表示される。(権限許可されている場合のみ)

余談
/dev/pts/0は/dev/pts/にある0である。
そのためls /dev/ptsと打つと、0 1 が出力される。
ここで端末Bがログアウトすると
ls /dev/ptsは0となる。
つまり、/dev/pts/には現在接続している端末のデバイスファイル名が置いてある。

## network
### ip
ネットワークデバイスやルーティング、ポリシーなどの表示と変更を
行うコマンド。

### ss(旧netstat)
ソケット統計をダンプするためのツール。
他のツールより多くのTCPおよび状態情報を表示することができる。
netstatは非推奨となっている。

### nmap
Nmap(Network Mapper)とは、ネットワークの探索およびセキュリティ監査に
使用されるオーブンソースのツール。
生のIPパケットを用いて対象のネットワーク上でどのようなホストが利用可能なのか、
そのホストが提供しているサービスやOS、どのようなパケットフィルタリングやFWが
使用されているかなど、様々な情報を把握することが可能なツール。
不正アクセス禁止法に抵触する可能性があるため、検証環境や使用が許可されている
ネットワーク内のみで利用すること。
典型的なNmapスキャンの使用方法として、スキャンする対象のOSとそのバージョンの
検出を行う-Aと処理を高速に実行する-T4という引数、スキャン対象となるホスト名
を指定しスキャンを行う。

```
nmap -A -T4 scanme.nmap.org
nmap -A -T4 [hostname or IPaddress]
```

### curl
curl -I http://example.com : ヘッダーのみ返却

### ls -l
- : 通常のファイル  
d : ディレクトリ
l : シンボリックリンク
b : ブロックデバイス
c : キャラクタデバイス
s : ソケット
p : パイプ(FIFO)
